#pragma once

#include "Mini-STLIB/Mini-STLIB.hpp"
#include <functional>

using namespace std;

int sin_index = 0;

class TUDTests{
public:

	static void setup(){
		start();

		timer_5.execute_every([](){
			for(auto analog_out : AnalogOut::all_analog_outs)
				analog_out();
			sin_index ++;
		}, 1000, Timer::MICROSEONDS);
	}

	static void loop() {

//		// GPIO OUT
//		for(auto base : DigitalOut::all_digital_outs)
//			base->turn_high();
//
//		HAL_Delay(2);
//
//		for(auto base : DigitalOut::all_digital_outs)
//			base->turn_low();
//
//		HAL_Delay(2);

		// GPIO IN
		for(auto in : DigitalIn::all_digital_ins)
			in->get_value();
	}
};
