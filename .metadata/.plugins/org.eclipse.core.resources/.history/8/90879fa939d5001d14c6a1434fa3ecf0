#pragma once

enum BaseState{
	OPEN,
	CLOSED
};

class Base{
private:
	BaseState state = CLOSED;
	GPIO_TypeDef* port;
	uint16_t pin;

public:
	static vector<Base*> all_input_captures;

	Base(GPIO_TypeDef* port, uint16_t pin) : port(port), pin(pin) {
		Base::all_input_captures.push_back(this);
	}

	void open(){
		HAL_GPIO_WritePin(port, pin, GPIO_PIN_SET);
	}

	void close(){
		HAL_GPIO_WritePin(port, pin, GPIO_PIN_RESET);
	}

};
