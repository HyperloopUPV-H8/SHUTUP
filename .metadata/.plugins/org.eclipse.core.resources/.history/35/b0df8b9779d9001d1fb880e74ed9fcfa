#pragma once

#include "Mini-STLIB/Mini-STLIB.hpp"
#include <functional>

using namespace std;

int sin_index = 0;

uint16_t adc1_data[1];
uint16_t adc2_data[2];

int can_index = 0;

uint8_t d[] = {1,2,3,4,5,6,7};

class TUDTests{
public:

	static void setup(){
		start();
		// GPIO IN
		timer_13.execute_every([](){
			for(auto in : DigitalIn::all_digital_ins)
				in->get_value();

		}, 1000, Timer::MICROSEONDS);

		// ANALOG OUT
		timer_7.execute_every([](){
			main_can.send_ok_message();
		}, 1000, Timer::MILLISECONDS);

	}

	static void loop() {
		// GPIO OUT
//		for(auto base : DigitalOut::all_digital_outs)
//			base->turn_high();
//		HAL_Delay(2000);
//
//		for(auto base : DigitalOut::all_digital_outs)
//			base->turn_low();
//		HAL_Delay(2000);
	}
};
